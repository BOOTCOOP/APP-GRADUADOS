"use strict";(self["webpackChunkgraduados_app"]=self["webpackChunkgraduados_app"]||[]).push([[142],{1817:(e,t,s)=>{var n=s(2109),i=s(9781),a=s(7854),o=s(1702),l=s(2597),c=s(614),r=s(7976),d=s(1340),u=s(7045),f=s(9920),p=a.Symbol,b=p&&p.prototype;if(i&&c(p)&&(!("description"in b)||void 0!==p().description)){var g={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=r(b,this)?new p(e):void 0===e?p():p(e);return""===e&&(g[t]=!0),t};f(v,p),v.prototype=b,b.constructor=v;var _="Symbol(test)"==String(p("test")),m=o(b.valueOf),w=o(b.toString),y=/^Symbol\((.*)\)[^)]+$/,h=o("".replace),k=o("".slice);u(b,"description",{configurable:!0,get:function(){var e=m(this);if(l(g,e))return"";var t=w(e),s=_?k(t,7,-1):h(t,y,"$1");return""===s?void 0:s}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},3142:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});s(3948),s(1817);var n=s(6252),i=s(3577);const a={key:0,class:"loading-container"},o={key:1,class:"error-container"},l={key:2,class:"empty-container"},c={key:3,class:"benefits-container"},r={class:"benefits-grid"},d={class:"benefit-image"},u=["src"],f={class:"benefit-badge"},p={class:"benefit-content"},b={class:"benefit-title"},g={class:"benefit-discount"},v={class:"discount-value"},_={class:"benefit-description"},m={class:"benefit-dates"},w={class:"date-info"},y={class:"date-value"};function h(e,t,s,h,k,D){const B=(0,n.up)("router-link"),S=(0,n.up)("graduados-app");return(0,n.wg)(),(0,n.j4)(S,{"header-title":"Beneficios"},{default:(0,n.w5)((()=>[e.loading?((0,n.wg)(),(0,n.iD)("div",a,t[1]||(t[1]=[(0,n._)("div",{class:"spinner"},null,-1),(0,n._)("p",null,"Cargando beneficios...",-1)]))):e.error?((0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("p",null,(0,i.zw)(e.error),1),(0,n._)("button",{onClick:t[0]||(t[0]=(...t)=>e.loadBenefits&&e.loadBenefits(...t)),class:"retry-button"},"Reintentar")])):e.benefits&&0!==e.benefits.length?((0,n.wg)(),(0,n.iD)("div",c,[t[7]||(t[7]=(0,n._)("h1",{class:"benefits-title"},"Beneficios Exclusivos",-1)),t[8]||(t[8]=(0,n._)("p",{class:"benefits-subtitle"}," Descuentos y promociones especiales para graduados ",-1)),(0,n._)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.benefits,(s=>((0,n.wg)(),(0,n.iD)("div",{key:s.id,class:"benefit-card"},[(0,n.Wm)(B,{to:`/beneficios/${s.id}`,class:"benefit-link"},{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n._)("img",{src:e.getImageUrl(s.logo),alt:"Logo"},null,8,u),(0,n._)("div",f,(0,i.zw)(s.type),1)]),(0,n._)("div",p,[(0,n._)("h3",b,(0,i.zw)(s.title),1),(0,n._)("div",g,[(0,n._)("span",v,(0,i.zw)(s.discount_percentage)+"%",1),t[3]||(t[3]=(0,n._)("span",{class:"discount-label"},"de descuento",-1))]),(0,n._)("p",_,(0,i.zw)(s.description),1),(0,n._)("div",m,[t[5]||(t[5]=(0,n._)("div",{class:"date-icon"},"ðŸ“…",-1)),(0,n._)("div",w,[t[4]||(t[4]=(0,n._)("div",{class:"date-label"},"VÃ¡lido desde:",-1)),(0,n._)("div",y,(0,i.zw)(e.formatDate(s.start_date))+" hasta "+(0,i.zw)(e.formatDate(s.end_date)),1)])]),t[6]||(t[6]=(0,n._)("div",{class:"benefit-cta"},[(0,n._)("span",{class:"cta-button"},"Ver detalles")],-1))])])),_:2},1032,["to"])])))),128))])])):((0,n.wg)(),(0,n.iD)("div",l,t[2]||(t[2]=[(0,n._)("p",null,"No hay beneficios disponibles en este momento.",-1)])))])),_:1})}s(4916),s(5306);var k=s(2262),D=s(3907);const B=(0,n.aZ)({name:"Benefits",setup(){const e=(0,D.oR)(),t=(0,k.iH)(!0),s=(0,k.iH)(null);function i(e){if(!e)return"/assets/img/imagen-no-disponible.jpg";const t="https://api.graduados.kame-code.com/api",s=t.replace(/\/api\/?$/,"")||"https://api.graduados.kame-code.com";let n=e;return n=/^\/?storage\//.test(n)?"/"+n.replace(/^\/+/,""):"/storage/"+n.replace(/^\/+/,""),`${s}${n}`}function a(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("es-ES")}async function o(){t.value=!0,s.value=null;try{await e.dispatch("benefits/fetchBenefits"),console.log("Benefits loaded in component:",e.state.benefits.benefits),t.value=!1}catch(n){console.error("Error al cargar beneficios",n),t.value=!1}}(0,n.bv)((()=>{console.log("Benefits component mounted"),o()}));const l=(0,n.Fl)((()=>{const t=e.state.benefits.benefits;return console.log("Computed benefits:",t),t}));return{benefits:l,loading:t,error:s,getImageUrl:i,formatDate:a,loadBenefits:o}}});var S=s(3744);const z=(0,S.Z)(B,[["render",h],["__scopeId","data-v-24dc9cda"]]),$=z}}]);
//# sourceMappingURL=142-legacy.26e617cf.js.map