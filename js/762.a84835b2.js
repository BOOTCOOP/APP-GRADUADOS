"use strict";(self["webpackChunkgraduados_app"]=self["webpackChunkgraduados_app"]||[]).push([[762],{1817:(i,s,o)=>{var a=o(2109),n=o(9781),t=o(7854),e=o(1702),l=o(2597),c=o(614),r=o(7976),u=o(1340),v=o(7045),d=o(9920),p=t.Symbol,g=p&&p.prototype;if(n&&c(p)&&(!("description"in g)||void 0!==p().description)){var f={},h=function(){var i=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),s=r(g,this)?new p(i):void 0===i?p():p(i);return""===i&&(f[s]=!0),s};d(h,p),h.prototype=g,g.constructor=h;var b="Symbol(test)"==String(p("test")),_=e(g.valueOf),m=e(g.toString),k=/^Symbol\((.*)\)[^)]+$/,w=e("".replace),y=e("".slice);v(g,"description",{configurable:!0,get:function(){var i=_(this);if(l(f,i))return"";var s=m(i),o=b?y(s,7,-1):w(s,k,"$1");return""===o?void 0:o}}),a({global:!0,constructor:!0,forced:!0},{Symbol:h})}},762:(i,s,o)=>{o.r(s),o.d(s,{default:()=>U});o(7658),o(4916),o(5306),o(1817);var a=o(6252),n=o(2262),t=o(3577),e=o(2201),l=o(3907),c=o(8903);const r={class:"ion-padding"},u={class:"refresh-container"},v={class:"action-container"},d={key:0,class:"loading-container"},p={key:1,class:"avisos-container"},g={key:0,class:"avisos-list"},f=["onClick"],h={class:"aviso-thumbnail"},b=["src"],_={key:1,class:"placeholder-thumbnail"},m={class:"aviso-content"},k={class:"aviso-title"},w={class:"aviso-description"},y={class:"aviso-contact"},D={key:0,class:"aviso-badge"},S={key:1,class:"empty-state"},C=(0,a.aZ)({__name:"Classifieds",setup(i){const s=(0,l.oR)(),o=(0,e.tv)(),C=(0,a.Fl)((()=>s.state.avisos.avisos||[])),z=(0,a.Fl)((()=>s.state.avisos.loading)),A=(0,a.Fl)((()=>{var i;return(null===(i=s.state.auth)||void 0===i?void 0:i.user)||null}));async function U(){try{await s.dispatch("avisos/fetchAvisos"),console.log("Avisos cargados:",C.value)}catch(i){console.error("Error al cargar avisos:",i)}}function W(i){o.push(`/classifieds/${i}`)}function $(){o.push("/classifieds/create")}function P(i){var s;if(!i)return"";const o=(null===(s="http://localhost:8000/api")||void 0===s?void 0:s.replace("/api",""))||"";return`${o}/storage/${i}`}function F(i,s){return i?i.length>s?i.substring(0,s)+"...":i:""}function H(i){return A.value&&i.user_id===A.value.id}return(0,a.bv)((()=>{console.log("Classifieds component mounted"),U()})),(i,s)=>{const o=(0,a.up)("ion-icon"),e=(0,a.up)("graduados-app");return(0,a.wg)(),(0,a.j4)(e,{"header-title":"Avisos"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a._)("div",u,[(0,a._)("button",{onClick:U,class:"refresh-button"},[(0,a.Wm)(o,{icon:(0,n.SU)(c.D3P)},null,8,["icon"]),s[0]||(s[0]=(0,a.Uk)(" Actualizar "))])]),(0,a._)("div",v,[(0,a._)("button",{onClick:$,class:"create-button"},[(0,a.Wm)(o,{icon:(0,n.SU)(c.s6O)},null,8,["icon"]),s[1]||(s[1]=(0,a.Uk)(" Publicar Aviso "))])]),z.value?((0,a.wg)(),(0,a.iD)("div",d,s[2]||(s[2]=[(0,a._)("div",{class:"spinner"},null,-1),(0,a._)("p",null,"Cargando avisos...",-1)]))):((0,a.wg)(),(0,a.iD)("div",p,[C.value.length?((0,a.wg)(),(0,a.iD)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.value,(i=>((0,a.wg)(),(0,a.iD)("div",{key:i.id,onClick:s=>W(i.id),class:"aviso-item"},[(0,a._)("div",h,[i.file?((0,a.wg)(),(0,a.iD)("img",{key:0,src:P(i.file),alt:"Aviso thumbnail"},null,8,b)):((0,a.wg)(),(0,a.iD)("div",_,[(0,a.Wm)(o,{icon:(0,n.SU)(c.Pf6),size:"large"},null,8,["icon"])]))]),(0,a._)("div",m,[(0,a._)("h2",k,(0,t.zw)(i.title),1),(0,a._)("p",w,(0,t.zw)(F(i.description,100)),1),(0,a._)("div",y,[(0,a.Wm)(o,{icon:(0,n.SU)(c.H7N),size:"small"},null,8,["icon"]),(0,a._)("span",null,(0,t.zw)(i.contact_phone),1)])]),H(i)?((0,a.wg)(),(0,a.iD)("div",D,"Mi Aviso")):(0,a.kq)("",!0)],8,f)))),128))])):((0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(o,{icon:(0,n.SU)(c.nLD),size:"large"},null,8,["icon"]),s[3]||(s[3]=(0,a._)("p",null,"No hay avisos publicados en este momento.",-1)),(0,a._)("button",{onClick:$,class:"create-button"}," Publicar mi primer aviso ")]))]))])])),_:1})}}});var z=o(3744);const A=(0,z.Z)(C,[["__scopeId","data-v-55f1cbec"]]),U=A}}]);
//# sourceMappingURL=762.a84835b2.js.map