"use strict";(self["webpackChunkgraduados_app"]=self["webpackChunkgraduados_app"]||[]).push([[368],{461:(e,a,t)=>{t.d(a,{Z:()=>y});var l=t(6252),s=t(2262),i=t(3577),n=t(9963),o=t(7305);const d=(0,l.aZ)({__name:"FormSearchBar",props:{placeholder:{required:!0,type:String},debounce:{required:!1,default:600}},emits:["updated"],setup(e,{emit:a}){const t=a;function i(e){t("updated",e.target.value)}return(a,t)=>((0,l.wg)(),(0,l.j4)((0,s.SU)(o.VI),(0,l.dG)(a.$attrs,{debounce:e.debounce,placeholder:e.placeholder,onIonChange:i}),null,16,["debounce","placeholder"]))}}),u=d,r=u;var c=t(3907);const p={key:0,class:"filters"},m={class:"ion-text-center"},g={class:"ion-padding-vertical ion-text-center"},f=(0,l.aZ)({__name:"InfinitePagination",props:{fetchDataStore:{type:String,required:!0},loadingSpinner:{default:"circular"},loadingText:{default:""},emptyResultsText:{default:"No hay resultados para mostrar"},perPage:{type:Number,default:8},filters:{type:Object,default:()=>({})},hasSearcher:{default:!1},searchValue:{default:""},searchPlaceholder:{default:"Buscar..."}},setup(e,{expose:a}){const t=(0,s.iH)(!0),d=(0,s.iH)(!1),u=(0,c.oR)(),f=(0,s.iH)([]),_=(0,s.iH)(""),v=(0,s.iH)({current_page:1,last_page:1,per_page:10,total:0,next_page_url:null,prev_page_url:null}),y=(0,s.iH)(1),h=(0,l.Fl)((()=>{var e;return(null===(e=v.value)||void 0===e?void 0:e.current_page)!=v.value.last_page})),S=e;function U(){t.value=!0,y.value=1,w(),f.value=[]}function w(){return new Promise((e=>{d.value=!0,u.dispatch(S.fetchDataStore,{page:y.value,per_page:S.perPage,filters:S.filters,search:_.value}).then((a=>{console.log(a),f.value=f.value.concat(a.data||[]),v.value=a.data.meta||v.value,t.value=!1,e(!0)})).finally((()=>d.value=!1))}))}function W(e){y.value++,w().then((()=>e.target.complete()))}function b(e){const a="object"==typeof e?e.id:e;f.value=f.value.filter((e=>e.id!=a))}return(0,l.bv)((()=>w())),(0,l.YP)(v,(e=>y.value=e.current_page)),(0,l.YP)((()=>S.filters),(()=>U())),(0,l.YP)((()=>S.searchValue),(e=>_.value=e)),(0,l.YP)(_,(()=>U())),a({removeItem:b}),(a,u)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.WI)(a.$slots,"filters",{loading:d.value},(()=>[S.hasSearcher?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(r,{placeholder:e.searchPlaceholder,onUpdated:u[0]||(u[0]=e=>_.value=e),disabled:d.value},null,8,["placeholder","disabled"]),(0,l.WI)(a.$slots,"filter-extra",{loading:d.value})])):(0,l.kq)("",!0)])),t.value?(0,l.WI)(a.$slots,"skeleton",{key:0,loading:d.value},(()=>[(0,l._)("div",m,[(0,l.Wm)((0,s.SU)(o.PQ))])])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("div",null,[f.value.length?(0,l.WI)(a.$slots,"default",{key:0,loading:d.value,items:f.value,page:y.value,hasMorePages:h.value}):(0,l.kq)("",!0),f.value.length||d.value?(0,l.kq)("",!0):(0,l.WI)(a.$slots,"empty",{key:1},(()=>[(0,l._)("h3",g,(0,i.zw)(S.emptyResultsText),1)])),(0,l.Wm)((0,s.SU)(o.ju),{disabled:!h.value,onIonInfinite:W},{default:(0,l.w5)((()=>[(0,l.WI)(a.$slots,"loader",{},(()=>[(0,l.Wm)((0,s.SU)(o.MB),{"loading-text":S.loadingText,"loading-spinner":S.loadingSpinner},null,8,["loading-text","loading-spinner"])]))])),_:3},8,["disabled"])],512),[[n.F8,!t.value]])],64))}});var _=t(3744);const v=(0,_.Z)(f,[["__scopeId","data-v-1df96764"]]),y=v},6368:(e,a,t)=>{t.r(a),t.d(a,{default:()=>_});t(4916),t(5306),t(7658);var l=t(6252),s=t(2262),i=t(3577),n=t(461),o=t(7305),d=t(2784),u=t(7653),r=t(8903),c=t(3907);const p={style:{display:"flex","align-items":"center"},class:"ion-margin-top"},m=(0,l.aZ)({__name:"MyJobs",setup(e){const a=(0,c.oR)(),t=(0,o.cj)(),m=(0,s.iH)(!1);function g(){t.replace({name:"jobs.index"})}function f(e){const l=[{text:"Editar",icon:r.mjL,handler:function(){t.push({name:"jobs.edit",params:{slug:e.id}})}},{text:e.is_paused?"Activar":"Pausar",icon:e.is_paused?r.S38:r.Res,handler:()=>{_(e)}},{text:"Eliminar",role:"destructive",icon:r.gtu,handler:function(){v(e)}}];e.is_rejected?l.splice(0,2):e.is_approval_pending&&l.splice(1,1),a.dispatch("ui/action/show",l)}function _(e){const t=e.is_paused?1:2;a.dispatch("jobs/switchStatus",{id:e.id,status:t}).then((()=>{e.is_paused=!e.is_paused,e.is_active=!e.is_active,a.dispatch("ui/toastr/create","Búsqueda "+(e.is_paused?"pausada":"activada")+" con éxito")}))}const v=async e=>{a.dispatch("ui/alert/confirm",{header:"Eliminar publicación",subHeader:"¿Estás seguro de que deseas eliminar esta publicación?",handler:()=>{a.dispatch("jobs/delete",e).then((()=>{m.value.removeItem(e.id)})),a.dispatch("ui/toastr/create","Publicación eliminada")}})};return(e,a)=>{const t=(0,l.up)("ion-button"),c=(0,l.up)("graduados-app");return(0,l.wg)(),(0,l.j4)(c,{"header-title":"Mis publicaciones","header-show-back-button":!0},{"header-start":(0,l.w5)((()=>[(0,l.Wm)(t,{onClick:g},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.gu),{md:(0,s.SU)(r.Pjk),ios:(0,s.SU)(r.Pjk)},null,8,["md","ios"])])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(n.Z,{ref_key:"pagination",ref:m,"fetch-data-store":"jobs/myPublications","empty-results-text":"No hay ofertas para mostrar"},{skeleton:(0,l.w5)((()=>[(0,l.Wm)(d.Z)])),default:(0,l.w5)((({items:e})=>[(0,l.Wm)((0,s.SU)(o.q_),{class:"ion-margin-top"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(e=>((0,l.wg)(),(0,l.j4)(u.Z,{job:e,key:e.id},{info:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l.Wm)((0,s.SU)(o.yW),{style:{display:"flex","align-items":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.gu),{style:{"font-size":"20px"},md:(0,s.SU)(r.hII),ios:(0,s.SU)(r.hII),class:"ion-margin-end"},null,8,["md","ios"]),(0,l.Uk)(" "+(0,i.zw)(e.visits)+" "+(0,i.zw)(1==e.visits?"vista":"vistas"),1)])),_:2},1024),e.is_rejected?((0,l.wg)(),(0,l.j4)((0,s.SU)(o.yW),{key:0,style:{display:"flex","align-items":"center"},class:"ion-padding-start",color:"danger"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.gu),{style:{"font-size":"20px"},md:(0,s.SU)(r.UMR),ios:(0,s.SU)(r.UMR),class:"ion-margin-end"},null,8,["md","ios"]),a[0]||(a[0]=(0,l.Uk)(" Rechazado "))])),_:1})):(0,l.kq)("",!0),e.is_approval_pending?((0,l.wg)(),(0,l.j4)((0,s.SU)(o.yW),{key:1,style:{display:"flex","align-items":"center"},class:"ion-padding-start",color:"warning"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.gu),{style:{"font-size":"20px"},md:(0,s.SU)(r.bdY),ios:(0,s.SU)(r.bdY),class:"ion-margin-end"},null,8,["md","ios"]),a[1]||(a[1]=(0,l.Uk)(" Pendiente "))])),_:1})):(0,l.kq)("",!0),e.is_approved&&e.is_active?((0,l.wg)(),(0,l.j4)((0,s.SU)(o.yW),{key:2,style:{display:"flex","align-items":"center"},class:"ion-padding-start",color:"success"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.gu),{style:{"font-size":"20px"},md:(0,s.SU)(r.Nwd),ios:(0,s.SU)(r.Nwd),class:"ion-margin-end"},null,8,["md","ios"]),a[2]||(a[2]=(0,l.Uk)(" Publicado "))])),_:1})):(0,l.kq)("",!0),e.is_approved&&e.is_paused?((0,l.wg)(),(0,l.j4)((0,s.SU)(o.yW),{key:3,style:{display:"flex","align-items":"center"},class:"ion-padding-start",color:"warning"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.gu),{style:{"font-size":"20px"},md:(0,s.SU)(r.OoB),ios:(0,s.SU)(r.OoB),class:"ion-margin-end"},null,8,["md","ios"]),a[3]||(a[3]=(0,l.Uk)(" Pausado "))])),_:1})):(0,l.kq)("",!0)])])),default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(o.gu),{class:"ion-padding job-action",onClick:a=>f(e),color:"medium",md:(0,s.SU)(r.f1P),ios:(0,s.SU)(r.f1P)},null,8,["onClick","md","ios"])])),_:2},1032,["job"])))),128))])),_:2},1024)])),_:1},512)])),_:1})}}});var g=t(3744);const f=(0,g.Z)(m,[["__scopeId","data-v-07891212"]]),_=f},2784:(e,a,t)=>{t.d(a,{Z:()=>r});var l=t(6252),s=t(2262),i=t(3577),n=t(7305);const o={class:"ion-margin-top"},d=(0,l.aZ)({__name:"Skeleton",setup(e){return(e,a)=>((0,l.wg)(),(0,l.j4)((0,s.SU)(n.q_),null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([1,2,3,4,5,6],(e=>(0,l.Wm)((0,s.SU)(n.PM),{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(n.FN),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(n.Q$),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(n.CK),{animated:!0,style:{width:"50%",height:"5px"}}),(0,l.Wm)((0,s.SU)(n.CK),{animated:!0,style:{width:"100%"}}),(0,l.Wm)((0,s.SU)(n.CK),{animated:!0,style:(0,i.j5)("width: "+10*e+"%")},null,8,["style"]),(0,l._)("div",o,[(0,l.Wm)((0,s.SU)(n.CK),{animated:!0,style:{width:"50%"}}),(0,l.Wm)((0,s.SU)(n.CK),{animated:!0,style:{width:"40%"}})])])),_:2},1024)])),_:2},1024)])),_:2},1024))),64))])),_:1}))}}),u=d,r=u},7653:(e,a,t)=>{t.d(a,{Z:()=>p});t(7658);var l=t(6252),s=t(2262),i=t(3577),n=t(7305),o=t(8903);const d={class:"ion-margin-top"},u=(0,l.aZ)({__name:"Job",props:{job:{required:!0}},setup(e){const a=e,t=(0,n.cj)();function u(){t.push({name:"jobs.show",params:{slug:a.job.id}})}return(a,t)=>((0,l.wg)(),(0,l.j4)((0,s.SU)(n.PM),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(n.FN),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(n.yW),{color:"medium"},{default:(0,l.w5)((()=>[(0,l._)("small",null,(0,i.zw)(e.job.company),1),t[0]||(t[0]=(0,l.Uk)()),t[1]||(t[1]=(0,l._)("br",null,null,-1))])),_:1}),(0,l.Wm)((0,s.SU)(n.yW),{onClick:u,color:"primary"},{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,i.zw)(e.job.title),1)])),_:1}),(0,l._)("div",d,[(0,l.WI)(a.$slots,"info",{},(()=>[(0,l.Wm)((0,s.SU)(n.yW),{style:{display:"flex","align-items":"center"},class:"ion-margin-top"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(n.gu),{style:{"font-size":"20px"},md:(0,s.SU)(o.gmD),ios:(0,s.SU)(o.gmD),class:"ion-margin-end"},null,8,["md","ios"]),(0,l.Uk)(" "+(0,i.zw)(e.job.location)+" ",1),t[2]||(t[2]=(0,l._)("br",null,null,-1))])),_:1}),(0,l.Wm)((0,s.SU)(n.yW),{style:{display:"flex","align-items":"center"},class:"ion-margin-top"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(n.gu),{style:{"font-size":"20px"},md:(0,s.SU)(o.XMB),ios:(0,s.SU)(o.XMB),class:"ion-margin-end"},null,8,["md","ios"]),(0,l.Uk)(" "+(0,i.zw)(e.job.modality),1)])),_:1})]))]),(0,l.WI)(a.$slots,"default")])),_:3})])),_:3}))}});var r=t(3744);const c=(0,r.Z)(u,[["__scopeId","data-v-33c9a22a"]]),p=c}}]);
//# sourceMappingURL=368.7c07b89f.js.map