"use strict";(self["webpackChunkgraduados_app"]=self["webpackChunkgraduados_app"]||[]).push([[631],{2987:(e,a,l)=>{l.d(a,{U:()=>n});var t=l(5624),u=l(5488);const n=()=>{const e=()=>new Promise((e=>{e(u.Z.get())})),a=e=>new Promise(((a,l)=>{t.Z.put("profile",e).then((e=>{u.Z.set(e.data.data),a(e.data.data)})).catch((e=>l(e)))})),l=e=>new Promise(((a,l)=>{t.Z.put("profile/password",e).then((e=>{a(e)})).catch((e=>l(e)))}));return{get:e,update:a,password:l}}},5222:(e,a,l)=>{l.r(a),l.d(a,{default:()=>c});l(7658);var t=l(6252),u=l(2262),n=l(9963),m=l(3577),d=l(8903),o=l(7305),i=l(3907),s=l(2954),r=l(2987),f=l(550);const w={key:0,class:"ion-text-center ion-margin-top ion-margin-bottom"},p=(0,t.aZ)({__name:"Profile",setup(e){const a=(0,u.iH)(!1),l=(0,u.iH)(!0),p=(0,o.cj)(),U=(0,i.oR)(),c=(0,u.iH)(""),h=(0,u.iH)({id:0,firstname:"",lastname:"",email:"",thumb:"",images:[]});function g(){U.dispatch("ui/action/show",[{text:"Cambiar contraseña",icon:d.hkI,handler:()=>{p.push({name:"profile.password"})}}])}function v(){c.value.validate().then((e=>{e.valid&&(a.value=!0,(0,r.U)().update(h.value).then((()=>{a.value=!1,U.dispatch("ui/toastr/create","Datos guardados.")})))}))}function _(e){h.value.thumb=e.thumb,h.value.images=[e.id]}return setTimeout((()=>{l.value=!1,(0,r.U)().get().then((e=>{h.value=e}))}),500),(e,i)=>{const r=(0,t.up)("graduados-app");return(0,t.wg)(),(0,t.j4)(r,{"header-title":"Mi cuenta","header-show-back-button":!0,body:"white"},{"header-end":(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)((0,u.SU)(o.YG),{color:"dark",onClick:g},{default:(0,t.w5)((()=>[(0,t.Wm)((0,u.SU)(o.gu),{ios:(0,u.SU)(d.hvO),md:(0,u.SU)(d.hvO)},null,8,["ios","md"]),(0,t.Wm)((0,u.SU)(o.yW),{class:"ion-margin-start"},{default:(0,t.w5)((()=>i[3]||(i[3]=[(0,t.Uk)("Más")]))),_:1})])),_:1},512),[[n.F8,h.value.id]])])),footer:(0,t.w5)((()=>[(0,t.Wm)((0,u.SU)(o.YG),{disabled:a.value||!h.value.id,onClick:v,shape:"round",expand:"full",color:"primary"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,m.zw)(a.value?"Guardando...":"Guardar"),1)])),_:1},8,["disabled"])])),default:(0,t.w5)((()=>[!h.value.id&&l.value?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)((0,u.SU)(o.Bs),null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,u.SU)(o.CK),{animated:!0})])),_:1}),((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)([0,1,2],(e=>(0,t._)("div",{class:"ion-margin-top",key:e},[(0,t.Wm)((0,u.SU)(o.Q$),null,{default:(0,t.w5)((()=>[(0,t._)("p",null,[(0,t.Wm)((0,u.SU)(o.CK),{animated:!0,style:{height:"10px",width:"20%"}})]),(0,t._)("h1",null,[(0,t.Wm)((0,u.SU)(o.CK),{animated:!0,style:{height:"30px",width:"100%"}})])])),_:1})]))),64))])):(0,t.kq)("",!0),h.value.id?((0,t.wg)(),(0,t.j4)((0,u.SU)(s.l0),{key:1,ref_key:"form",ref:c,class:"profile ion-text-center ion-margin-top ion-margin-bottom"},{default:(0,t.w5)((()=>[(0,t.Wm)(f.Z,{onImageChanged:_,thumb:h.value.thumb},null,8,["thumb"]),(0,t.Wm)((0,u.SU)(s.gN),{modelValue:h.value.firstname,"onUpdate:modelValue":i[0]||(i[0]=e=>h.value.firstname=e),label:"nombre",name:"firstname",rules:"required"},{default:(0,t.w5)((({field:e})=>[(0,t.Wm)((0,u.SU)(o.Ie),null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,u.SU)(o.Q$),{position:"floating"},{default:(0,t.w5)((()=>i[4]||(i[4]=[(0,t.Uk)("Nombre")]))),_:1}),(0,t.Wm)((0,u.SU)(o.pK),(0,m.vs)((0,t.F4)(e)),null,16)])),_:2},1024),(0,t.Wm)((0,u.SU)(s.Bc),{name:"firstname"},{default:(0,t.w5)((({message:e})=>[(0,t.Wm)((0,u.SU)(o.yW),{color:"danger"},{default:(0,t.w5)((()=>[(0,t._)("small",null,(0,m.zw)(e),1)])),_:2},1024)])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)((0,u.SU)(s.gN),{modelValue:h.value.lastname,"onUpdate:modelValue":i[1]||(i[1]=e=>h.value.lastname=e),label:"nombre",name:"lastname",rules:"required"},{default:(0,t.w5)((({field:e})=>[(0,t.Wm)((0,u.SU)(o.Ie),null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,u.SU)(o.Q$),{position:"floating"},{default:(0,t.w5)((()=>i[5]||(i[5]=[(0,t.Uk)("Nombre")]))),_:1}),(0,t.Wm)((0,u.SU)(o.pK),(0,m.vs)((0,t.F4)(e)),null,16)])),_:2},1024),(0,t.Wm)((0,u.SU)(s.Bc),{name:"lastname"},{default:(0,t.w5)((({message:e})=>[(0,t.Wm)((0,u.SU)(o.yW),{color:"danger"},{default:(0,t.w5)((()=>[(0,t._)("small",null,(0,m.zw)(e),1)])),_:2},1024)])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)((0,u.SU)(s.gN),{modelValue:h.value.email,"onUpdate:modelValue":i[2]||(i[2]=e=>h.value.email=e),label:"nombre",name:"email",rules:"required|email"},{default:(0,t.w5)((({field:e})=>[(0,t.Wm)((0,u.SU)(o.Ie),null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,u.SU)(o.Q$),{position:"floating"},{default:(0,t.w5)((()=>i[6]||(i[6]=[(0,t.Uk)("Nombre")]))),_:1}),(0,t.Wm)((0,u.SU)(o.pK),(0,m.vs)((0,t.F4)(e)),null,16)])),_:2},1024),(0,t.Wm)((0,u.SU)(s.Bc),{name:"email"},{default:(0,t.w5)((({message:e})=>[(0,t.Wm)((0,u.SU)(o.yW),{color:"danger"},{default:(0,t.w5)((()=>[(0,t._)("small",null,(0,m.zw)(e),1)])),_:2},1024)])),_:1})])),_:1},8,["modelValue"])])),_:1},512)):(0,t.kq)("",!0)])),_:1})}}}),U=p,c=U}}]);
//# sourceMappingURL=631-legacy.290a3a09.js.map