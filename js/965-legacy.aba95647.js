"use strict";(self["webpackChunkgraduados_app"]=self["webpackChunkgraduados_app"]||[]).push([[965],{461:(e,a,t)=>{t.d(a,{Z:()=>h});var l=t(6252),n=t(2262),o=t(3577),i=t(9963),s=t(7305);const u=(0,l.aZ)({__name:"FormSearchBar",props:{placeholder:{required:!0,type:String},debounce:{required:!1,default:600}},emits:["updated"],setup(e,{emit:a}){const t=a;function o(e){t("updated",e.target.value)}return(a,t)=>((0,l.wg)(),(0,l.j4)((0,n.SU)(s.VI),(0,l.dG)(a.$attrs,{debounce:e.debounce,placeholder:e.placeholder,onIonChange:o}),null,16,["debounce","placeholder"]))}}),d=u,r=d;var c=t(3907);const p={key:0,class:"filters"},m={class:"ion-text-center"},g={class:"ion-padding-vertical ion-text-center"},f=(0,l.aZ)({__name:"InfinitePagination",props:{fetchDataStore:{type:String,required:!0},loadingSpinner:{default:"circular"},loadingText:{default:""},emptyResultsText:{default:"No hay resultados para mostrar"},perPage:{type:Number,default:8},filters:{type:Object,default:()=>({})},hasSearcher:{default:!1},searchValue:{default:""},searchPlaceholder:{default:"Buscar..."}},setup(e,{expose:a}){const t=(0,n.iH)(!0),u=(0,n.iH)(!1),d=(0,c.oR)(),f=(0,n.iH)([]),v=(0,n.iH)(""),_=(0,n.iH)({current_page:1,last_page:1,per_page:10,total:0,next_page_url:null,prev_page_url:null}),h=(0,n.iH)(1),w=(0,l.Fl)((()=>{var e;return(null===(e=_.value)||void 0===e?void 0:e.current_page)!=_.value.last_page})),S=e;function y(){t.value=!0,h.value=1,b(),f.value=[]}function b(){return new Promise((e=>{u.value=!0,d.dispatch(S.fetchDataStore,{page:h.value,per_page:S.perPage,filters:S.filters,search:v.value}).then((a=>{console.log(a),f.value=f.value.concat(a.data||[]),_.value=a.data.meta||_.value,t.value=!1,e(!0)})).finally((()=>u.value=!1))}))}function W(e){h.value++,b().then((()=>e.target.complete()))}function U(e){const a="object"==typeof e?e.id:e;f.value=f.value.filter((e=>e.id!=a))}return(0,l.bv)((()=>b())),(0,l.YP)(_,(e=>h.value=e.current_page)),(0,l.YP)((()=>S.filters),(()=>y())),(0,l.YP)((()=>S.searchValue),(e=>v.value=e)),(0,l.YP)(v,(()=>y())),a({removeItem:U}),(a,d)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.WI)(a.$slots,"filters",{loading:u.value},(()=>[S.hasSearcher?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(r,{placeholder:e.searchPlaceholder,onUpdated:d[0]||(d[0]=e=>v.value=e),disabled:u.value},null,8,["placeholder","disabled"]),(0,l.WI)(a.$slots,"filter-extra",{loading:u.value})])):(0,l.kq)("",!0)])),t.value?(0,l.WI)(a.$slots,"skeleton",{key:0,loading:u.value},(()=>[(0,l._)("div",m,[(0,l.Wm)((0,n.SU)(s.PQ))])])):(0,l.kq)("",!0),(0,l.wy)((0,l._)("div",null,[f.value.length?(0,l.WI)(a.$slots,"default",{key:0,loading:u.value,items:f.value,page:h.value,hasMorePages:w.value}):(0,l.kq)("",!0),f.value.length||u.value?(0,l.kq)("",!0):(0,l.WI)(a.$slots,"empty",{key:1},(()=>[(0,l._)("h3",g,(0,o.zw)(S.emptyResultsText),1)])),(0,l.Wm)((0,n.SU)(s.ju),{disabled:!w.value,onIonInfinite:W},{default:(0,l.w5)((()=>[(0,l.WI)(a.$slots,"loader",{},(()=>[(0,l.Wm)((0,n.SU)(s.MB),{"loading-text":S.loadingText,"loading-spinner":S.loadingSpinner},null,8,["loading-text","loading-spinner"])]))])),_:3},8,["disabled"])],512),[[i.F8,!t.value]])],64))}});var v=t(3744);const _=(0,v.Z)(f,[["__scopeId","data-v-1df96764"]]),h=_},9965:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});t(4916),t(5306);var l=t(6252),n=t(2262),o=t(7305),i=t(2784),s=t(7653),u=t(8903),d=t(461),r=t(3907);const c=(0,l.aZ)({__name:"Favorites",setup(e){const a=(0,r.oR)(),t=(0,n.iH)(!1),c=(0,o.cj)();function p(e){a.dispatch("ui/action/show",[{text:"Eliminar de mis favoritos",role:"destructive",icon:u.gtu,data:{job:e,action:"delete"},handler:()=>{g(e)}}])}function m(){c.replace({name:"jobs.index"})}function g(e){const l="object"==typeof e?e.id:e;a.dispatch("jobs/removeFavorite",{id:l}),t.value.removeItem(l),a.dispatch("ui/toastr/create","Búsqueda eliminada.")}return(e,a)=>{const r=(0,l.up)("ion-button"),c=(0,l.up)("graduados-app");return(0,l.wg)(),(0,l.j4)(c,{"header-title":"Favoritos","header-show-back-button":!0},{"header-start":(0,l.w5)((()=>[(0,l.Wm)(r,{onClick:m},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(o.gu),{md:(0,n.SU)(u.Pjk),ios:(0,n.SU)(u.Pjk)},null,8,["md","ios"])])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(d.Z,{ref_key:"pagination",ref:t,"fetch-data-store":"jobs/favorites","empty-results-text":"Aún no tienes ninguna búsqueda guardada"},{skeleton:(0,l.w5)((()=>[(0,l.Wm)(i.Z)])),default:(0,l.w5)((({items:e})=>[(0,l.Wm)((0,n.SU)(o.q_),{class:"ion-margin-top"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,(e=>((0,l.wg)(),(0,l.j4)(s.Z,{job:e,key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(o.gu),{class:"ion-padding job-action",onClick:a=>p(e),color:"medium",md:(0,n.SU)(u.f1P),ios:(0,n.SU)(u.f1P)},null,8,["onClick","md","ios"])])),_:2},1032,["job"])))),128))])),_:2},1024)])),_:1},512)])),_:1})}}});var p=t(3744);const m=(0,p.Z)(c,[["__scopeId","data-v-199b03c0"]]),g=m},2784:(e,a,t)=>{t.d(a,{Z:()=>r});var l=t(6252),n=t(2262),o=t(3577),i=t(7305);const s={class:"ion-margin-top"},u=(0,l.aZ)({__name:"Skeleton",setup(e){return(e,a)=>((0,l.wg)(),(0,l.j4)((0,n.SU)(i.q_),null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([1,2,3,4,5,6],(e=>(0,l.Wm)((0,n.SU)(i.PM),{key:e},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.FN),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.Q$),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.CK),{animated:!0,style:{width:"50%",height:"5px"}}),(0,l.Wm)((0,n.SU)(i.CK),{animated:!0,style:{width:"100%"}}),(0,l.Wm)((0,n.SU)(i.CK),{animated:!0,style:(0,o.j5)("width: "+10*e+"%")},null,8,["style"]),(0,l._)("div",s,[(0,l.Wm)((0,n.SU)(i.CK),{animated:!0,style:{width:"50%"}}),(0,l.Wm)((0,n.SU)(i.CK),{animated:!0,style:{width:"40%"}})])])),_:2},1024)])),_:2},1024)])),_:2},1024))),64))])),_:1}))}}),d=u,r=d},7653:(e,a,t)=>{t.d(a,{Z:()=>p});t(7658);var l=t(6252),n=t(2262),o=t(3577),i=t(7305),s=t(8903);const u={class:"ion-margin-top"},d=(0,l.aZ)({__name:"Job",props:{job:{required:!0}},setup(e){const a=e,t=(0,i.cj)();function d(){t.push({name:"jobs.show",params:{slug:a.job.id}})}return(a,t)=>((0,l.wg)(),(0,l.j4)((0,n.SU)(i.PM),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.FN),null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.yW),{color:"medium"},{default:(0,l.w5)((()=>[(0,l._)("small",null,(0,o.zw)(e.job.company),1),t[0]||(t[0]=(0,l.Uk)()),t[1]||(t[1]=(0,l._)("br",null,null,-1))])),_:1}),(0,l.Wm)((0,n.SU)(i.yW),{onClick:d,color:"primary"},{default:(0,l.w5)((()=>[(0,l._)("strong",null,(0,o.zw)(e.job.title),1)])),_:1}),(0,l._)("div",u,[(0,l.WI)(a.$slots,"info",{},(()=>[(0,l.Wm)((0,n.SU)(i.yW),{style:{display:"flex","align-items":"center"},class:"ion-margin-top"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.gu),{style:{"font-size":"20px"},md:(0,n.SU)(s.gmD),ios:(0,n.SU)(s.gmD),class:"ion-margin-end"},null,8,["md","ios"]),(0,l.Uk)(" "+(0,o.zw)(e.job.location)+" ",1),t[2]||(t[2]=(0,l._)("br",null,null,-1))])),_:1}),(0,l.Wm)((0,n.SU)(i.yW),{style:{display:"flex","align-items":"center"},class:"ion-margin-top"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.gu),{style:{"font-size":"20px"},md:(0,n.SU)(s.XMB),ios:(0,n.SU)(s.XMB),class:"ion-margin-end"},null,8,["md","ios"]),(0,l.Uk)(" "+(0,o.zw)(e.job.modality),1)])),_:1})]))]),(0,l.WI)(a.$slots,"default")])),_:3})])),_:3}))}});var r=t(3744);const c=(0,r.Z)(d,[["__scopeId","data-v-33c9a22a"]]),p=c}}]);
//# sourceMappingURL=965-legacy.aba95647.js.map