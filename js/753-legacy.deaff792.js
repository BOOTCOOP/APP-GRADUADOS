"use strict";(self["webpackChunkgraduados_app"]=self["webpackChunkgraduados_app"]||[]).push([[753],{1817:(e,t,s)=>{var i=s(2109),a=s(9781),n=s(7854),l=s(1702),c=s(2597),o=s(614),r=s(7976),d=s(1340),u=s(7045),p=s(9920),f=n.Symbol,v=f&&f.prototype;if(a&&o(f)&&(!("description"in v)||void 0!==f().description)){var _={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=r(v,this)?new f(e):void 0===e?f():f(e);return""===e&&(_[t]=!0),t};p(b,f),b.prototype=v,v.constructor=b;var g="Symbol(test)"==String(f("test")),m=l(v.valueOf),h=l(v.toString),w=/^Symbol\((.*)\)[^)]+$/,y=l("".replace),D=l("".slice);u(v,"description",{configurable:!0,get:function(){var e=m(this);if(c(_,e))return"";var t=h(e),s=g?D(t,7,-1):y(t,w,"$1");return""===s?void 0:s}}),i({global:!0,constructor:!0,forced:!0},{Symbol:b})}},8753:(e,t,s)=>{s.r(t),s.d(t,{default:()=>U});s(3948),s(1817);var i=s(6252),a=s(3577);const n={key:0,class:"loading-container"},l={key:1,class:"error-container"},c={key:2,class:"benefit-detail-container"},o={class:"benefit-header"},r={class:"benefit-image"},d=["src"],u={class:"benefit-info"},p={class:"benefit-type"},f={class:"benefit-title"},v={class:"benefit-discount"},_={class:"discount-value"},b={class:"benefit-content"},g={class:"benefit-section"},m={class:"benefit-description"},h={class:"benefit-section"},w={class:"validity-dates"},y={class:"date-item"},D={class:"date-value"},k={class:"date-item"},z={class:"date-value"},B={class:"benefit-actions"};function S(e,t,s,S,C,H){const I=(0,i.up)("router-link"),$=(0,i.up)("graduados-app");return(0,i.wg)(),(0,i.j4)($,{"header-title":e.benefit.title||"Detalle de Beneficio"},{default:(0,i.w5)((()=>[e.loading?((0,i.wg)(),(0,i.iD)("div",n,t[1]||(t[1]=[(0,i._)("div",{class:"spinner"},null,-1),(0,i._)("p",null,"Cargando detalles del beneficio...",-1)]))):e.error?((0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("p",null,(0,a.zw)(e.error),1),(0,i._)("button",{onClick:t[0]||(t[0]=(...t)=>e.loadBenefit&&e.loadBenefit(...t)),class:"retry-button"},"Reintentar")])):((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",o,[(0,i._)("div",r,[(0,i._)("img",{src:e.getImageUrl(e.benefit.logo),alt:"Logo"},null,8,d)]),(0,i._)("div",u,[(0,i._)("div",p,(0,a.zw)(e.benefit.type),1),(0,i._)("h1",f,(0,a.zw)(e.benefit.title),1),(0,i._)("div",v,[(0,i._)("span",_,(0,a.zw)(e.benefit.discount_percentage)+"%",1),t[2]||(t[2]=(0,i._)("span",{class:"discount-label"},"de descuento",-1))])])]),(0,i._)("div",b,[(0,i._)("div",g,[t[3]||(t[3]=(0,i._)("h2",{class:"section-title"},"Descripción",-1)),(0,i._)("p",m,(0,a.zw)(e.benefit.description),1)]),(0,i._)("div",h,[t[7]||(t[7]=(0,i._)("h2",{class:"section-title"},"Período de validez",-1)),(0,i._)("div",w,[(0,i._)("div",y,[t[4]||(t[4]=(0,i._)("div",{class:"date-label"},"Desde:",-1)),(0,i._)("div",D,(0,a.zw)(e.formatDate(e.benefit.start_date)),1)]),t[6]||(t[6]=(0,i._)("div",{class:"date-separator"},null,-1)),(0,i._)("div",k,[t[5]||(t[5]=(0,i._)("div",{class:"date-label"},"Hasta:",-1)),(0,i._)("div",z,(0,a.zw)(e.formatDate(e.benefit.end_date)),1)])])]),t[8]||(t[8]=(0,i._)("div",{class:"benefit-section"},[(0,i._)("h2",{class:"section-title"},"Cómo utilizar este beneficio"),(0,i._)("div",{class:"usage-steps"},[(0,i._)("div",{class:"step"},[(0,i._)("div",{class:"step-number"},"1"),(0,i._)("div",{class:"step-content"},[(0,i._)("h3",{class:"step-title"},"Presenta tu credencial"),(0,i._)("p",{class:"step-description"}," Muestra tu credencial de graduado en el establecimiento. ")])]),(0,i._)("div",{class:"step"},[(0,i._)("div",{class:"step-number"},"2"),(0,i._)("div",{class:"step-content"},[(0,i._)("h3",{class:"step-title"},"Menciona el beneficio"),(0,i._)("p",{class:"step-description"}," Indica que deseas utilizar el beneficio para graduados. ")])]),(0,i._)("div",{class:"step"},[(0,i._)("div",{class:"step-number"},"3"),(0,i._)("div",{class:"step-content"},[(0,i._)("h3",{class:"step-title"},"Disfruta tu descuento"),(0,i._)("p",{class:"step-description"}," El descuento se aplicará automáticamente a tu compra. ")])])])],-1))]),(0,i._)("div",B,[(0,i.Wm)(I,{to:"/beneficios",class:"back-button"},{default:(0,i.w5)((()=>t[9]||(t[9]=[(0,i.Uk)(" Volver a beneficios ")]))),_:1})])]))])),_:1},8,["header-title"])}s(4916),s(5306);var C=s(2262),H=s(2201),I=s(3907);const $=(0,i.aZ)({name:"BenefitDetail",setup(){const e=(0,H.yj)(),t=(0,I.oR)(),s=(0,C.iH)({}),a=(0,C.iH)(!0),n=(0,C.iH)(null);function l(e){if(!e)return"/assets/img/imagen-no-disponible.jpg";const t="https://api.graduados.kame-code.com/api",s=t.replace("/api","");return`${s}/storage/${e}`}function c(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("es-ES")}async function o(){const i=e.params.id;if(i){a.value=!0,n.value=null;try{await t.dispatch("benefits/fetchBenefit",i),s.value=t.state.benefits.currentBenefit,console.log("Benefit detail loaded:",s.value),a.value=!1}catch(l){console.error("Error al cargar el beneficio",l),a.value=!1}}}return(0,i.bv)((()=>{o()})),{benefit:s,loading:a,error:n,getImageUrl:l,formatDate:c,loadBenefit:o}}});var j=s(3744);const E=(0,j.Z)($,[["render",S],["__scopeId","data-v-768ee80d"]]),U=E}}]);
//# sourceMappingURL=753-legacy.deaff792.js.map