"use strict";(self["webpackChunkgraduados_app"]=self["webpackChunkgraduados_app"]||[]).push([[398],{1817:(e,t,s)=>{var a=s(2109),i=s(9781),n=s(7854),l=s(1702),c=s(2597),o=s(614),r=s(7976),d=s(1340),u=s(7045),p=s(9920),f=n.Symbol,v=f&&f.prototype;if(i&&o(f)&&(!("description"in v)||void 0!==f().description)){var _={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=r(v,this)?new f(e):void 0===e?f():f(e);return""===e&&(_[t]=!0),t};p(b,f),b.prototype=v,v.constructor=b;var g="Symbol(test)"==String(f("test")),m=l(v.valueOf),h=l(v.toString),w=/^Symbol\((.*)\)[^)]+$/,y=l("".replace),k=l("".slice);u(v,"description",{configurable:!0,get:function(){var e=m(this);if(c(_,e))return"";var t=h(e),s=g?k(t,7,-1):y(t,w,"$1");return""===s?void 0:s}}),a({global:!0,constructor:!0,forced:!0},{Symbol:b})}},1398:(e,t,s)=>{s.r(t),s.d(t,{default:()=>U});s(3948),s(1817);var a=s(6252),i=s(3577);const n={key:0,class:"loading-container"},l={key:1,class:"error-container"},c={key:2,class:"benefit-detail-container"},o={class:"benefit-header"},r={class:"benefit-image"},d=["src"],u={class:"benefit-info"},p={class:"benefit-type"},f={class:"benefit-title"},v={class:"benefit-discount"},_={class:"discount-value"},b={class:"benefit-content"},g={class:"benefit-section"},m={class:"benefit-description"},h={class:"benefit-section"},w={class:"validity-dates"},y={class:"date-item"},k={class:"date-value"},D={class:"date-item"},z={class:"date-value"},B={class:"benefit-actions"};function S(e,t,s,S,C,$){const H=(0,a.up)("router-link"),I=(0,a.up)("graduados-app");return(0,a.wg)(),(0,a.j4)(I,{"header-title":e.benefit.title||"Detalle de Beneficio"},{default:(0,a.w5)((()=>[e.loading?((0,a.wg)(),(0,a.iD)("div",n,t[1]||(t[1]=[(0,a._)("div",{class:"spinner"},null,-1),(0,a._)("p",null,"Cargando detalles del beneficio...",-1)]))):e.error?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("p",null,(0,i.zw)(e.error),1),(0,a._)("button",{onClick:t[0]||(t[0]=(...t)=>e.loadBenefit&&e.loadBenefit(...t)),class:"retry-button"},"Reintentar")])):((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",o,[(0,a._)("div",r,[(0,a._)("img",{src:e.getImageUrl(e.benefit.logo),alt:"Logo"},null,8,d)]),(0,a._)("div",u,[(0,a._)("div",p,(0,i.zw)(e.benefit.type),1),(0,a._)("h1",f,(0,i.zw)(e.benefit.title),1),(0,a._)("div",v,[(0,a._)("span",_,(0,i.zw)(e.benefit.discount_percentage)+"%",1),t[2]||(t[2]=(0,a._)("span",{class:"discount-label"},"de descuento",-1))])])]),(0,a._)("div",b,[(0,a._)("div",g,[t[3]||(t[3]=(0,a._)("h2",{class:"section-title"},"Descripción",-1)),(0,a._)("p",m,(0,i.zw)(e.benefit.description),1)]),(0,a._)("div",h,[t[7]||(t[7]=(0,a._)("h2",{class:"section-title"},"Período de validez",-1)),(0,a._)("div",w,[(0,a._)("div",y,[t[4]||(t[4]=(0,a._)("div",{class:"date-label"},"Desde:",-1)),(0,a._)("div",k,(0,i.zw)(e.formatDate(e.benefit.start_date)),1)]),t[6]||(t[6]=(0,a._)("div",{class:"date-separator"},null,-1)),(0,a._)("div",D,[t[5]||(t[5]=(0,a._)("div",{class:"date-label"},"Hasta:",-1)),(0,a._)("div",z,(0,i.zw)(e.formatDate(e.benefit.end_date)),1)])])]),t[8]||(t[8]=(0,a._)("div",{class:"benefit-section"},[(0,a._)("h2",{class:"section-title"},"Cómo utilizar este beneficio"),(0,a._)("div",{class:"usage-steps"},[(0,a._)("div",{class:"step"},[(0,a._)("div",{class:"step-number"},"1"),(0,a._)("div",{class:"step-content"},[(0,a._)("h3",{class:"step-title"},"Presenta tu credencial"),(0,a._)("p",{class:"step-description"}," Muestra tu credencial de graduado en el establecimiento. ")])]),(0,a._)("div",{class:"step"},[(0,a._)("div",{class:"step-number"},"2"),(0,a._)("div",{class:"step-content"},[(0,a._)("h3",{class:"step-title"},"Menciona el beneficio"),(0,a._)("p",{class:"step-description"}," Indica que deseas utilizar el beneficio para graduados. ")])]),(0,a._)("div",{class:"step"},[(0,a._)("div",{class:"step-number"},"3"),(0,a._)("div",{class:"step-content"},[(0,a._)("h3",{class:"step-title"},"Disfruta tu descuento"),(0,a._)("p",{class:"step-description"}," El descuento se aplicará automáticamente a tu compra. ")])])])],-1))]),(0,a._)("div",B,[(0,a.Wm)(H,{to:"/beneficios",class:"back-button"},{default:(0,a.w5)((()=>t[9]||(t[9]=[(0,a.Uk)(" Volver a beneficios ")]))),_:1})])]))])),_:1},8,["header-title"])}s(4916),s(5306);var C=s(2262),$=s(2201),H=s(3907);const I=(0,a.aZ)({name:"BenefitDetail",setup(){const e=(0,$.yj)(),t=(0,H.oR)(),s=(0,C.iH)({}),i=(0,C.iH)(!0),n=(0,C.iH)(null);function l(e){if(!e)return"/assets/img/imagen-no-disponible.jpg";const t="https://api.graduados.kame-code.com/api",s=t.replace(/\/api\/?$/,"")||"https://api.graduados.kame-code.com";let a=e;return a=/^\/?storage\//.test(a)?"/"+a.replace(/^\/+/,""):"/storage/"+a.replace(/^\/+/,""),`${s}${a}`}function c(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("es-ES")}async function o(){const a=e.params.id;if(a){i.value=!0,n.value=null;try{await t.dispatch("benefits/fetchBenefit",a),s.value=t.state.benefits.currentBenefit,console.log("Benefit detail loaded:",s.value),i.value=!1}catch(l){console.error("Error al cargar el beneficio",l),i.value=!1}}}return(0,a.bv)((()=>{o()})),{benefit:s,loading:i,error:n,getImageUrl:l,formatDate:c,loadBenefit:o}}});var j=s(3744);const E=(0,j.Z)(I,[["render",S],["__scopeId","data-v-7bc37f7c"]]),U=E}}]);
//# sourceMappingURL=398.11c8b51d.js.map